flowchart TD
    A[Парсинг SQL] -->|Токены SQL| B[Синтаксический анализ]
    B -->|Дерево запроса| C[Семантический анализ<br>проверка схемы]
    C -->|Аннотированное дерево| D[Генерация байт-кода VDBE]
    D -->|Virtual Database Engine bytecode| E[Оптимизация запроса]
    E -->|План выполнения| F[Интерпретация в runtime]
    F -->|Доступ к B-деревьям| G[Возврат результата]
    
    style D fill:#e1f5fe
    style E fill:#f3e5f5
    style F fill:#e8f5e8
